{% extends 'base.html.twig' %}


{% block body %}    
<h1 class="h3 mb-2 text-gray-800">Citas</h1>
<p class="mb-4"></p>

<!-- DataTales Example -->
<div class="card shadow mb-4">
  <div class="card-header py-3 flex">
    <h5 class="m-0 font-weight-bold text-primary" style="display:inline">Lista</h5>
    <a name="" id="" class="btn btn-primary float-right" href="{{ path('cita_new') }}" role="button">Nuevo</a>
    
  </div>
  
  <div class="card-body">
    <div class="table-responsive">
        <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
            <thead>
                <tr>
                    <th>Fecha y Hora</th>
                    <th>Doctor</th>
                    <th>Tipo</th>
                    <th>Desciripcion</th>
                    <th></th>
                </tr>
            </thead>
            <tfoot>
                <tr>
                    <th>Fecha y Hora</th>
                    <th>Doctor</th>
                    <th>Tipo</th>
                    <th>Desciripcion</th>
                    <th></th>
                </tr>
            </tfoot>
            <tbody>
                {% for cita in citas %}
                <tr>
                    <td>{{ cita.fechaHora|date('d/m/Y H:i:s')  }}</td>
                    <td>{{ cita.doctor.usuario.nombre }} {{ cita.doctor.usuario.apellidos }}</td>
                    <td>{{ cita.tipo.nombre }}</td>
                    <td>{{ cita.descripcion }}</td>
                    <td>
                      <a type="button" class="btn btn-outline-secondary" href="{{ path('citas_detail', {'id': cita.id}) }}">Detalles</a>
                      <a type="button" class="btn btn-outline-secondary" href="{{ path('cita_edit', {'id': cita.id}) }}">Editar</a>
                    </td>
                </tr>
                {% else %}
                    <tr>
                        <td colspan="5">No hay citas registradas</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
      </div>
  </div>
</div>
{% endblock %}
